@{
    ViewBag.Title = "projects";
    var projects = ViewBag.projects;
    var projectIdsJson = ViewBag.projectIdsJson;
}
<!-- Link project page CSS to HTML-->
<link rel="stylesheet" href="~/Content/ProjectStyle.css"/>
<link rel="stylesheet" href="~/Content/Site.css"/>
<div id="projects-body">
    @Html.Partial("NewProjectPartial")
    <hr id="projects-body-hr" />
    <div class="flex-grid">
        @foreach(VLN2_H27.Models.Project p in ViewBag.projects) {
            
                <a href="@Url.Action("editor", "Editor", new { @Id = p.Id })" class="project-title" id=("project-@p.Id")>
                    <div class="col" id="col">
                        <div class="project-info">
                            <h3 style="text-align: center">@p.ProjectName</h3>
                            <hr />
                            <p class="project-info-line"><span class="project-info-title">Created:</span>@p.DateAdded.Day/@p.DateAdded.Month/@p.DateAdded.Year</p>
                            <p class="project-info-line"><span class="project-info-title">Collaborators:</span>@p.NrOfUsers</p>
                            <p id="project-@p.Id" class="project-info-line" data-editing="0"><span class="project-info-title">Online Now:</span><span id="users-@p.Id">0</span></p>
                        </div>
                    </div>
                </a>
        }
        @for(int i = 0; i < 10; i++) {
            <div class="empty-col"></div>
        }

    </div>
</div>

@section scripts {
 <!--Reference the SignalR library. -->
<script src="~/Scripts/jquery.signalR-2.2.2.min.js"></script>
<!--Reference the autogenerated SignalR hub script. -->
<script src="~/signalr/hubs"></script>
<!-- Declaring global variables from viewbag-->
<script>
    var projectIds = @(projectIdsJson);
</script>
<!-- JS CODE GOES HERE -->
<script src="~/Scripts/ProjectsScripts.js" type="text/javascript"></script>
    }
